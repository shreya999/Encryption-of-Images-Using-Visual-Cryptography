function [s1 s2 s3 s4 s5 s6 s7 s8 s9 s10 s11 s12 s13 s14 s15 s16]=returnshares3(Img,key,b1,b2,b3,b4,n,fgImg2)
if n==9
a1=bitxor(b1,key);
a2=bitxor(b1,b2);
a3=bitxor(b2,b3);
a4=bitxor(b3,b4);
a5=bitxor(b4,a1);
a6=bitxor(a1,a2);
a7=bitxor(a2,a3);
a8=bitxor(a3,a4);
a9=bitxor(a4,Img);
s1=hideimg(a1,fgImg2);
s2=hideimg(a2,fgImg2);
s3=hideimg(a3,fgImg2);
s4=hideimg(a4,fgImg2);
s5=hideimg(a5,fgImg2);
s6=hideimg(a6,fgImg2);
s7=hideimg(a7,fgImg2);
s8=hideimg(a8,fgImg2);
s9=hideimg(a9,fgImg2);
s10=0;
s11=0;
s12=0;
s13=0;
s14=0;
s15=0;
s16=0;

elseif n==10
a1=bitxor(b1,key);
a2=bitxor(b1,b2);
a3=bitxor(b2,b3);
a4=bitxor(b3,b4);
a5=bitxor(b4,a1);
a6=bitxor(a1,a2);
a7=bitxor(a2,a3);
a8=bitxor(a3,a4);
a9=bitxor(a4,a5);
a10=bitxor(a5,Img);
s1=hideimg(a1,fgImg2);
s2=hideimg(a2,fgImg2);
s3=hideimg(a3,fgImg2);
s4=hideimg(a4,fgImg2);
s5=hideimg(a5,fgImg2);
s6=hideimg(a6,fgImg2);
s7=hideimg(a7,fgImg2);
s8=hideimg(a8,fgImg2);
s9=hideimg(a9,fgImg2);
s10=hideimg(a10,fgImg2);
s11=0;
s12=0;
s13=0;
s14=0;
s15=0;
s16=0;

elseif n==11
a1=bitxor(b1,key);
a2=bitxor(b1,b2);
a3=bitxor(b2,b3);
a4=bitxor(b3,b4);
a5=bitxor(b4,a1);
a6=bitxor(a1,a2);
a7=bitxor(a2,a3);
a8=bitxor(a3,a4);
a9=bitxor(a4,a5);
a10=bitxor(a5,a6);
a11=bitxor(a6,Img);
s1=hideimg(a1,fgImg2);
s2=hideimg(a2,fgImg2);
s3=hideimg(a3,fgImg2);
s4=hideimg(a4,fgImg2);
s5=hideimg(a5,fgImg2);
s6=hideimg(a6,fgImg2);
s7=hideimg(a7,fgImg2);
s8=hideimg(a8,fgImg2);
s9=hideimg(a9,fgImg2);
s10=hideimg(a10,fgImg2);
s11=hideimg(a11,fgImg2);
s12=0;
s13=0;
s14=0;
s15=0;
s16=0;

elseif n==12
a1=bitxor(b1,key);
a2=bitxor(b1,b2);
a3=bitxor(b2,b3);
a4=bitxor(b3,b4);
a5=bitxor(b4,a1);
a6=bitxor(a1,a2);
a7=bitxor(a2,a3);
a8=bitxor(a3,a4);
a9=bitxor(a4,a5);
a10=bitxor(a5,a6);
a11=bitxor(a6,a7);
a12=bitxor(a7,Img);
s1=hideimg(a1,fgImg2);
s2=hideimg(a2,fgImg2);
s3=hideimg(a3,fgImg2);
s4=hideimg(a4,fgImg2);
s5=hideimg(a5,fgImg2);
s6=hideimg(a6,fgImg2);
s7=hideimg(a7,fgImg2);
s8=hideimg(a8,fgImg2);
s9=hideimg(a9,fgImg2);
s10=hideimg(a10,fgImg2);
s11=hideimg(a11,fgImg2);
s12=hideimg(a12,fgImg2);
s13=0;
s14=0;
s15=0;
s16=0;

elseif n==13
a1=bitxor(b1,key);
a2=bitxor(b1,b2);
a3=bitxor(b2,b3);
a4=bitxor(b3,b4);
a5=bitxor(b4,a1);
a6=bitxor(a1,a2);
a7=bitxor(a2,a3);
a8=bitxor(a3,a4);
a9=bitxor(a4,a5);
a10=bitxor(a5,a6);
a11=bitxor(a6,a7);
a12=bitxor(a7,a8);
a13=bitxor(a8,Img);
s1=hideimg(a1,fgImg2);
s2=hideimg(a2,fgImg2);
s3=hideimg(a3,fgImg2);
s4=hideimg(a4,fgImg2);
s5=hideimg(a5,fgImg2);
s6=hideimg(a6,fgImg2);
s7=hideimg(a7,fgImg2);
s8=hideimg(a8,fgImg2);
s9=hideimg(a9,fgImg2);
s10=hideimg(a10,fgImg2);
s11=hideimg(a11,fgImg2);
s12=hideimg(a12,fgImg2);
s13=hideimg(a13,fgImg2);
s14=0;
s15=0;
s16=0;


elseif n==14
a1=bitxor(b1,key);
a2=bitxor(b1,b2);
a3=bitxor(b2,b3);
a4=bitxor(b3,b4);
a5=bitxor(b4,a1);
a6=bitxor(a1,a2);
a7=bitxor(a2,a3);
a8=bitxor(a3,a4);
a9=bitxor(a4,a5);
a10=bitxor(a5,a6);
a11=bitxor(a6,a7);
a12=bitxor(a7,a8);
a13=bitxor(a8,a9);
a14=bitxor(a9,Img);
s1=hideimg(a1,fgImg2);
s2=hideimg(a2,fgImg2);
s3=hideimg(a3,fgImg2);
s4=hideimg(a4,fgImg2);
s5=hideimg(a5,fgImg2);
s6=hideimg(a6,fgImg2);
s7=hideimg(a7,fgImg2);
s8=hideimg(a8,fgImg2);
s9=hideimg(a9,fgImg2);
s10=hideimg(a10,fgImg2);
s11=hideimg(a11,fgImg2);
s12=hideimg(a12,fgImg2);
s13=hideimg(a13,fgImg2);
s14=hideimg(a14,fgImg2);
s15=0;
s16=0;

elseif n==15
a1=bitxor(b1,key);
a2=bitxor(b1,b2);
a3=bitxor(b2,b3);
a4=bitxor(b3,b4);
a5=bitxor(b4,a1);
a6=bitxor(a1,a2);
a7=bitxor(a2,a3);
a8=bitxor(a3,a4);
a9=bitxor(a4,a5);
a10=bitxor(a5,a6);
a11=bitxor(a6,a7);
a12=bitxor(a7,a8);
a13=bitxor(a8,a9);
a14=bitxor(a9,a10);
a15=bitxor(a10,Img);
s1=hideimg(a1,fgImg2);
s2=hideimg(a2,fgImg2);
s3=hideimg(a3,fgImg2);
s4=hideimg(a4,fgImg2);
s5=hideimg(a5,fgImg2);
s6=hideimg(a6,fgImg2);
s7=hideimg(a7,fgImg2);
s8=hideimg(a8,fgImg2);
s9=hideimg(a9,fgImg2);
s10=hideimg(a10,fgImg2);
s11=hideimg(a11,fgImg2);
s12=hideimg(a12,fgImg2);
s13=hideimg(a13,fgImg2);
s14=hideimg(a14,fgImg2);
s15=hideimg(a15,fgImg2);
s16=0;

elseif n==16
a1=bitxor(b1,key);
a2=bitxor(b1,b2);
a3=bitxor(b2,b3);
a4=bitxor(b3,b4);
a5=bitxor(b4,a1);
a6=bitxor(a1,a2);
a7=bitxor(a2,a3);
a8=bitxor(a3,a4);
a9=bitxor(a4,a5);
a10=bitxor(a5,a6);
a11=bitxor(a6,a7);
a12=bitxor(a7,a8);
a13=bitxor(a8,a9);
a14=bitxor(a9,a10);
a15=bitxor(a10,a11);
a16=bitxor(a11,Img);
s1=hideimg(a1,fgImg2);
s2=hideimg(a2,fgImg2);
s3=hideimg(a3,fgImg2);
s4=hideimg(a4,fgImg2);
s5=hideimg(a5,fgImg2);
s6=hideimg(a6,fgImg2);
s7=hideimg(a7,fgImg2);
s8=hideimg(a8,fgImg2);
s9=hideimg(a9,fgImg2);
s10=hideimg(a10,fgImg2);
s11=hideimg(a11,fgImg2);
s12=hideimg(a12,fgImg2);
s13=hideimg(a13,fgImg2);
s14=hideimg(a14,fgImg2);
s15=hideimg(a15,fgImg2);
s16=hideimg(a16,fgImg2);

end

end